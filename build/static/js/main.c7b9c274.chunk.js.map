{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/Person.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","PersonForm","addPerson","newName","handleName","newNumber","handleNumber","onSubmit","type","Person","name","number","handleDelete","onClick","Persons","persons","filtered","person","toLowerCase","indexOf","handleDeleteOf","id","deleteObject","find","window","confirm","map","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","setClassName","useEffect","personService","initialPersons","personObject","event","target","preventDefault","duplicate","returnedPerson","catch","error","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c7b9c274.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, handleFilter}) => {\r\n\r\n  return (\r\n    <div>\r\n      filter shown with<input value={filter} onChange={handleFilter} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, handleName, newNumber, handleNumber}) => {\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleName} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({name, number, handleDelete}) => {\r\n    return (\r\n      <div>\r\n        {name} {number} <button onClick={handleDelete}>delete</button>\r\n      </div>\r\n    )\r\n  }\r\n  export default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, filter, handleDelete}) => {\r\n  const filtered = persons.filter(person => person.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1);\r\n\r\n  const handleDeleteOf = (id) => {\r\n    const deleteObject = persons.find(person => person.id === id)\r\n    if(window.confirm(`Delete ${deleteObject.name} ?`)) {\r\n      handleDelete(id)\r\n    }\r\n  } \r\n\r\n  return (\r\n    <div>\r\n      {filtered.map(person => <Person key={person.name} name={person.name} number={person.number} handleDelete={() => handleDeleteOf(person.id)} />)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst del = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, update, del}","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personService from './services/Person'\r\nimport './App.css'\r\n\r\nconst Notification = ({ message, className }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={className}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [ message, setMessage ] = useState(null)\r\n  const [ className, setClassName ] = useState(null)\r\n  \r\n  useEffect(() => {\r\n    personService\r\n    .getAll()\r\n    .then(initialPersons => {\r\n      setPersons(initialPersons)\r\n    })\r\n  }, [])\r\n\r\n  const errormessage =\"error\"\r\n  const notification =\"notification\"\r\n\r\n  const personObject = {\r\n    name: newName,\r\n    number: newNumber\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const duplicate = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\r\n    if (typeof duplicate !== 'undefined') {\r\n      if(window.confirm(`${duplicate.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n        personService\r\n        .update(duplicate.id, personObject)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.map(person => person.id !== duplicate.id ? person : returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n        .catch(error => {\r\n          setMessage(\r\n            `Information of ${duplicate.name} has already been removed from server`\r\n          )\r\n          setClassName(errormessage)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n          setPersons(persons.filter(person => person.id !== duplicate.id))\r\n        })\r\n      }\r\n    }\r\n    else {\r\n      personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        setNewNumber('')\r\n      })\r\n      setMessage(`Added ${personObject.name}`)\r\n      setClassName(notification)\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  const handleDeleteof = (id) => {\r\n    personService\r\n    .del(id)\r\n    .then(() => {\r\n      setPersons(persons.filter(person => person.id !== id))\r\n    })\r\n  }\r\n\r\n  const handleFilter = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const handleName = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumber = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} className={className} />\r\n      <Filter filter={filter} handleFilter={handleFilter} />\r\n      <h3>add a new</h3>\r\n      <PersonForm addPerson={addPerson} newName={newName} handleName={handleName} newNumber={newNumber} handleNumber={handleNumber} />\r\n      <h3>Numbers</h3>\r\n      <Persons persons={persons} filter={filter} handleDelete={handleDeleteof} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}